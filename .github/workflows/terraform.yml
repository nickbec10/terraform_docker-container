on:
  workflow_dispatch: {}

jobs: 
  terraform:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: hashicorp/setup-terraform@v2
      - run: terraform init
      - run: terraform apply -auto-approve
      - name: GET test webpage
        run: |
        response = $(curl https://locakhost:8000 -header "Accept= application/json" -header "X-Username= ${{ secrets.USER_NAME }}" -header "X-Password= ${{ secrets.PASSWORD }}")         
        echo "response from curl= $response" 